
linux: 
	$(CC) -shared -fPIC -Wl,-soname,serialposix.so -o serialposix.so serialposix.c 
	cp serialposix.so /usr/lib/libserialposix.so
	$(CC) test.c -o test -lserialposix -lpthread

clean :
	rm *.o *.so test

osx:
	$(CC) -shared -fPIC -Wl,-install_name,../resources/osx/serialposix.so -o ../resources/osx/serialposix.so serialposix.c
	$(CC) test.c -o test ../resources/osx/serialposix.so -lpthread
